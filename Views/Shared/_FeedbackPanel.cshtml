@{
    var pageUrl = Context.Request.Path;
}

<div class="feedback-section">
    <h2 class="govuk-heading-m">Was this page useful?</h2>
    <p class="govuk-body">Help us improve the Service Manual by giving your feedback.</p>
    
    <div class="feedback-buttons">
        <button type="button" class="feedback-button govuk-button" data-feedback="yes">
            Yes
        </button>
        <button type="button" class="feedback-button feedback-button--secondary govuk-button govuk-button--secondary" data-feedback="no">
            No
        </button>
    </div>
    
    <div id="feedback-details" class="govuk-!-margin-top-4" style="display: none;">
        <div class="govuk-form-group">
            <label class="govuk-label" for="feedback-comment">
                How could we improve this page? (optional)
            </label>
            <textarea class="govuk-textarea" id="feedback-comment" name="feedback-comment" rows="3" maxlength="500"></textarea>
            <div class="govuk-hint">You have 500 characters remaining</div>
        </div>
        
        <button type="button" class="govuk-button" data-module="govuk-button">
            Send feedback
        </button>
    </div>
    
    <div id="feedback-thanks" class="govuk-!-margin-top-4" style="display: none;">
        <div class="govuk-panel govuk-panel--confirmation" style="background-color: #00703c;">
            <h2 class="govuk-panel__title">
                Thank you for your feedback
            </h2>
            <div class="govuk-panel__body">
                Your response helps us improve the manual
            </div>
        </div>
    </div>
</div>

<script>
    // Simple feedback interaction (can be enhanced with actual API call)
    document.querySelectorAll('[data-feedback]').forEach(button => {
        button.addEventListener('click', function() {
            const feedback = this.getAttribute('data-feedback');
            document.getElementById('feedback-details').style.display = feedback === 'no' ? 'block' : 'none';
            
            if (feedback === 'yes') {
                document.getElementById('feedback-thanks').style.display = 'block';
                setTimeout(() => {
                    document.getElementById('feedback-thanks').style.display = 'none';
                }, 5000);
            }
        });
    });
</script>

